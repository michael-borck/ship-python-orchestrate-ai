<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix L — Getting Started with venv – Ship It: Python in Production</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../appendices/uv.html" rel="next">
<link href="../appendices/conda.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-597958c53c93a607afca12fd375c57ed.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-ea07c801963e0f738b5ea27386c64fa2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../appendices/glossary.html">Appendices</a></li><li class="breadcrumb-item"><a href="../appendices/venv.html"><span class="chapter-number">L</span>&nbsp; <span class="chapter-title">Getting Started with venv</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Ship It: Python in Production</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/michaelborck-books/ship-it-python-in-production" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../Ship-It--Python-in-Production.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../Ship-It--Python-in-Production.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/01-foundation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Setting the Foundation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Advancing Your Workflow</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/03-documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Documentation and Deployment</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/04-case-study.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Case Study: Building SimpleBot - A Python Development Workflow Example</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/05-advanced-techniques.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Advanced Development Techniques</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/06-project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Project Management and Automation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/08-distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Multi-Platform Distribution</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/07-conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Conclusion: Embracing Efficient Python Development</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../acknowledgments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgments</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Glossary of Python Development Terms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/distribution-templates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Distribution Templates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/ai-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">AI Tools for Python Development</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/checklist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Python Development Workflow Checklist</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/editors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Introduction to Python IDEs and Editors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Python Development Tools Reference</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/tool-comparision.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Comparision of Python Environment and Package Management Tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/bash-scaffold-script.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">Python Development Pipeline Scaffold Python Script</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/cookiecutter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">Cookiecutter Template</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/hatch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">J</span>&nbsp; <span class="chapter-title">Hatch - Modern Python Project Management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/conda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">K</span>&nbsp; <span class="chapter-title">Using Conda for Environment Management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/venv.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">L</span>&nbsp; <span class="chapter-title">Getting Started with venv</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/uv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">M</span>&nbsp; <span class="chapter-title">UV - High-Performance Python Package Management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/poetry.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">N</span>&nbsp; <span class="chapter-title">Poetry - Modern Python Packaging and Dependency Management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/pdm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">O</span>&nbsp; <span class="chapter-title">PDM</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-venv" id="toc-introduction-to-venv" class="nav-link active" data-scroll-target="#introduction-to-venv"><span class="header-section-number">L.1</span> Introduction to venv</a></li>
  <li><a href="#why-use-venv" id="toc-why-use-venv" class="nav-link" data-scroll-target="#why-use-venv"><span class="header-section-number">L.2</span> Why Use venv?</a></li>
  <li><a href="#getting-started-with-venv" id="toc-getting-started-with-venv" class="nav-link" data-scroll-target="#getting-started-with-venv"><span class="header-section-number">L.3</span> Getting Started with venv</a>
  <ul class="collapse">
  <li><a href="#creating-a-virtual-environment" id="toc-creating-a-virtual-environment" class="nav-link" data-scroll-target="#creating-a-virtual-environment"><span class="header-section-number">L.3.1</span> Creating a Virtual Environment</a></li>
  <li><a href="#activating-the-environment" id="toc-activating-the-environment" class="nav-link" data-scroll-target="#activating-the-environment"><span class="header-section-number">L.3.2</span> Activating the Environment</a></li>
  <li><a href="#deactivating-the-environment" id="toc-deactivating-the-environment" class="nav-link" data-scroll-target="#deactivating-the-environment"><span class="header-section-number">L.3.3</span> Deactivating the Environment</a></li>
  </ul></li>
  <li><a href="#advanced-venv-options" id="toc-advanced-venv-options" class="nav-link" data-scroll-target="#advanced-venv-options"><span class="header-section-number">L.4</span> Advanced venv Options</a>
  <ul class="collapse">
  <li><a href="#creating-environments-with-specific-python-versions" id="toc-creating-environments-with-specific-python-versions" class="nav-link" data-scroll-target="#creating-environments-with-specific-python-versions"><span class="header-section-number">L.4.1</span> Creating Environments with Specific Python Versions</a></li>
  <li><a href="#creating-environments-without-pip" id="toc-creating-environments-without-pip" class="nav-link" data-scroll-target="#creating-environments-without-pip"><span class="header-section-number">L.4.2</span> Creating Environments Without pip</a></li>
  <li><a href="#creating-system-site-packages-access" id="toc-creating-system-site-packages-access" class="nav-link" data-scroll-target="#creating-system-site-packages-access"><span class="header-section-number">L.4.3</span> Creating System Site-packages Access</a></li>
  <li><a href="#upgrading-pip-in-a-new-environment" id="toc-upgrading-pip-in-a-new-environment" class="nav-link" data-scroll-target="#upgrading-pip-in-a-new-environment"><span class="header-section-number">L.4.4</span> Upgrading pip in a New Environment</a></li>
  </ul></li>
  <li><a href="#managing-dependencies-with-venv" id="toc-managing-dependencies-with-venv" class="nav-link" data-scroll-target="#managing-dependencies-with-venv"><span class="header-section-number">L.5</span> Managing Dependencies with venv</a>
  <ul class="collapse">
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link" data-scroll-target="#installing-packages"><span class="header-section-number">L.5.1</span> Installing Packages</a></li>
  <li><a href="#tracking-dependencies" id="toc-tracking-dependencies" class="nav-link" data-scroll-target="#tracking-dependencies"><span class="header-section-number">L.5.2</span> Tracking Dependencies</a></li>
  <li><a href="#installing-from-requirements" id="toc-installing-from-requirements" class="nav-link" data-scroll-target="#installing-from-requirements"><span class="header-section-number">L.5.3</span> Installing from Requirements</a></li>
  </ul></li>
  <li><a href="#best-practices-with-venv" id="toc-best-practices-with-venv" class="nav-link" data-scroll-target="#best-practices-with-venv"><span class="header-section-number">L.6</span> Best Practices with venv</a>
  <ul class="collapse">
  <li><a href="#directory-naming-conventions" id="toc-directory-naming-conventions" class="nav-link" data-scroll-target="#directory-naming-conventions"><span class="header-section-number">L.6.1</span> Directory Naming Conventions</a></li>
  <li><a href="#version-control-integration" id="toc-version-control-integration" class="nav-link" data-scroll-target="#version-control-integration"><span class="header-section-number">L.6.2</span> Version Control Integration</a></li>
  <li><a href="#environment-management-across-projects" id="toc-environment-management-across-projects" class="nav-link" data-scroll-target="#environment-management-across-projects"><span class="header-section-number">L.6.3</span> Environment Management Across Projects</a></li>
  <li><a href="#ide-integration" id="toc-ide-integration" class="nav-link" data-scroll-target="#ide-integration"><span class="header-section-number">L.6.4</span> IDE Integration</a></li>
  </ul></li>
  <li><a href="#comparing-venv-with-other-tools" id="toc-comparing-venv-with-other-tools" class="nav-link" data-scroll-target="#comparing-venv-with-other-tools"><span class="header-section-number">L.7</span> Comparing venv with Other Tools</a>
  <ul class="collapse">
  <li><a href="#venv-vs.-virtualenv" id="toc-venv-vs.-virtualenv" class="nav-link" data-scroll-target="#venv-vs.-virtualenv"><span class="header-section-number">L.7.1</span> venv vs.&nbsp;virtualenv</a></li>
  <li><a href="#venv-vs.-conda" id="toc-venv-vs.-conda" class="nav-link" data-scroll-target="#venv-vs.-conda"><span class="header-section-number">L.7.2</span> venv vs.&nbsp;conda</a></li>
  <li><a href="#venv-vs.-poetrypdm" id="toc-venv-vs.-poetrypdm" class="nav-link" data-scroll-target="#venv-vs.-poetrypdm"><span class="header-section-number">L.7.3</span> venv vs.&nbsp;Poetry/PDM</a></li>
  </ul></li>
  <li><a href="#troubleshooting-common-issues" id="toc-troubleshooting-common-issues" class="nav-link" data-scroll-target="#troubleshooting-common-issues"><span class="header-section-number">L.8</span> Troubleshooting Common Issues</a>
  <ul class="collapse">
  <li><a href="#activation-script-not-found" id="toc-activation-script-not-found" class="nav-link" data-scroll-target="#activation-script-not-found"><span class="header-section-number">L.8.1</span> Activation Script Not Found</a></li>
  <li><a href="#packages-not-found-after-installation" id="toc-packages-not-found-after-installation" class="nav-link" data-scroll-target="#packages-not-found-after-installation"><span class="header-section-number">L.8.2</span> Packages Not Found After Installation</a></li>
  <li><a href="#permission-issues" id="toc-permission-issues" class="nav-link" data-scroll-target="#permission-issues"><span class="header-section-number">L.8.3</span> Permission Issues</a></li>
  </ul></li>
  <li><a href="#script-examples-for-venv-workflows" id="toc-script-examples-for-venv-workflows" class="nav-link" data-scroll-target="#script-examples-for-venv-workflows"><span class="header-section-number">L.9</span> Script Examples for venv Workflows</a>
  <ul class="collapse">
  <li><a href="#project-setup-script" id="toc-project-setup-script" class="nav-link" data-scroll-target="#project-setup-script"><span class="header-section-number">L.9.1</span> Project Setup Script</a></li>
  <li><a href="#environment-recreation-script" id="toc-environment-recreation-script" class="nav-link" data-scroll-target="#environment-recreation-script"><span class="header-section-number">L.9.2</span> Environment Recreation Script</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">L.10</span> Conclusion</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/michaelborck-books/ship-it-python-in-production/edit/main/appendices/venv.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/michaelborck-books/ship-it-python-in-production/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../appendices/glossary.html">Appendices</a></li><li class="breadcrumb-item"><a href="../appendices/venv.html"><span class="chapter-number">L</span>&nbsp; <span class="chapter-title">Getting Started with venv</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Appendix L — Getting Started with venv</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction-to-venv" class="level2" data-number="L.1">
<h2 data-number="L.1" class="anchored" data-anchor-id="introduction-to-venv"><span class="header-section-number">L.1</span> Introduction to venv</h2>
<p>The <code>venv</code> module is Python’s built-in tool for creating virtual environments. Introduced in Python 3.3 and standardized in PEP 405, it has become the official recommended way to create isolated Python environments. As a module in the standard library, <code>venv</code> is immediately available with any Python installation, requiring no additional installation step.</p>
<p>Virtual environments created with <code>venv</code> provide isolated spaces where Python projects can have their own dependencies, regardless of what dependencies other projects may have. This solves the common problem of conflicting package requirements across different projects and prevents changes to one project from affecting others.</p>
</section>
<section id="why-use-venv" class="level2" data-number="L.2">
<h2 data-number="L.2" class="anchored" data-anchor-id="why-use-venv"><span class="header-section-number">L.2</span> Why Use venv?</h2>
<p>Virtual environments are essential in Python development for several reasons:</p>
<ol type="1">
<li><strong>Dependency Isolation</strong>: Each project can have its own dependencies, regardless of other projects’ requirements</li>
<li><strong>Consistent Environments</strong>: Ensures reproducible development and deployment environments</li>
<li><strong>Clean Testing</strong>: Test against specific package versions without affecting the system Python</li>
<li><strong>Conflict Prevention</strong>: Avoids “dependency hell” where different projects need different versions of the same package</li>
<li><strong>Project Organization</strong>: Clearly separates project dependencies from system or global packages</li>
</ol>
</section>
<section id="getting-started-with-venv" class="level2" data-number="L.3">
<h2 data-number="L.3" class="anchored" data-anchor-id="getting-started-with-venv"><span class="header-section-number">L.3</span> Getting Started with venv</h2>
<section id="creating-a-virtual-environment" class="level3" data-number="L.3.1">
<h3 data-number="L.3.1" class="anchored" data-anchor-id="creating-a-virtual-environment"><span class="header-section-number">L.3.1</span> Creating a Virtual Environment</h3>
<p>To create a virtual environment using <code>venv</code>, open a terminal and run:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic syntax</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv /path/to/new/virtual/environment</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Common usage (create a .venv directory in your project)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv .venv</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>The command creates a directory containing: - A Python interpreter copy - The <code>pip</code> package manager - A basic set of installed libraries - Scripts to activate the environment</p>
</section>
<section id="activating-the-environment" class="level3" data-number="L.3.2">
<h3 data-number="L.3.2" class="anchored" data-anchor-id="activating-the-environment"><span class="header-section-number">L.3.2</span> Activating the Environment</h3>
<p>Before using the virtual environment, you need to activate it. The activation process adjusts your shell’s PATH to prioritize the virtual environment’s Python interpreter and tools.</p>
<section id="on-windows" class="level4" data-number="L.3.2.1">
<h4 data-number="L.3.2.1" class="anchored" data-anchor-id="on-windows"><span class="header-section-number">L.3.2.1</span> On Windows:</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Command Prompt</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">.venv\Scripts\activate.bat</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PowerShell</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">.venv\Scripts\Activate.ps1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="on-macos-and-linux" class="level4" data-number="L.3.2.2">
<h4 data-number="L.3.2.2" class="anchored" data-anchor-id="on-macos-and-linux"><span class="header-section-number">L.3.2.2</span> On macOS and Linux:</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> .venv/bin/activate</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>After activation, your shell prompt typically changes to indicate the active environment:</p>
<pre><code>(.venv) user@computer:~/project$</code></pre>
<p>All Python and pip commands now use the virtual environment’s versions instead of the system ones.</p>
</section>
</section>
<section id="deactivating-the-environment" class="level3" data-number="L.3.3">
<h3 data-number="L.3.3" class="anchored" data-anchor-id="deactivating-the-environment"><span class="header-section-number">L.3.3</span> Deactivating the Environment</h3>
<p>When you’re done working on the project, deactivate the environment:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">deactivate</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>This restores your shell to its original state, using the system Python interpreter.</p>
</section>
</section>
<section id="advanced-venv-options" class="level2" data-number="L.4">
<h2 data-number="L.4" class="anchored" data-anchor-id="advanced-venv-options"><span class="header-section-number">L.4</span> Advanced venv Options</h2>
<section id="creating-environments-with-specific-python-versions" class="level3" data-number="L.4.1">
<h3 data-number="L.4.1" class="anchored" data-anchor-id="creating-environments-with-specific-python-versions"><span class="header-section-number">L.4.1</span> Creating Environments with Specific Python Versions</h3>
<p>To create an environment with a specific Python version, use that version’s interpreter:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using Python 3.8</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python3.8</span> <span class="at">-m</span> venv .venv</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># On Windows with py launcher</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="ex">py</span> <span class="at">-3.8</span> <span class="at">-m</span> venv .venv</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="creating-environments-without-pip" class="level3" data-number="L.4.2">
<h3 data-number="L.4.2" class="anchored" data-anchor-id="creating-environments-without-pip"><span class="header-section-number">L.4.2</span> Creating Environments Without pip</h3>
<p>By default, <code>venv</code> installs pip in new environments. To create one without pip:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv <span class="at">--without-pip</span> .venv</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="creating-system-site-packages-access" class="level3" data-number="L.4.3">
<h3 data-number="L.4.3" class="anchored" data-anchor-id="creating-system-site-packages-access"><span class="header-section-number">L.4.3</span> Creating System Site-packages Access</h3>
<p>Normally, virtual environments are isolated from system site-packages. To allow access:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv <span class="at">--system-site-packages</span> .venv</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>This creates an environment that can see system packages, but newly installed packages still go into the virtual environment.</p>
</section>
<section id="upgrading-pip-in-a-new-environment" class="level3" data-number="L.4.4">
<h3 data-number="L.4.4" class="anchored" data-anchor-id="upgrading-pip-in-a-new-environment"><span class="header-section-number">L.4.4</span> Upgrading pip in a New Environment</h3>
<p>Virtual environments often include an older pip version. It’s good practice to upgrade:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># After activating the environment</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">--upgrade</span> pip</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="managing-dependencies-with-venv" class="level2" data-number="L.5">
<h2 data-number="L.5" class="anchored" data-anchor-id="managing-dependencies-with-venv"><span class="header-section-number">L.5</span> Managing Dependencies with venv</h2>
<p>While <code>venv</code> creates the environment, you’ll use <code>pip</code> to manage packages within it.</p>
<section id="installing-packages" class="level3" data-number="L.5.1">
<h3 data-number="L.5.1" class="anchored" data-anchor-id="installing-packages"><span class="header-section-number">L.5.1</span> Installing Packages</h3>
<p>With your environment activated:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install individual packages</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install requests</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install with version constraints</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="st">"django&gt;=4.0,&lt;5.0"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="tracking-dependencies" class="level3" data-number="L.5.2">
<h3 data-number="L.5.2" class="anchored" data-anchor-id="tracking-dependencies"><span class="header-section-number">L.5.2</span> Tracking Dependencies</h3>
<p>To track installed packages:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a requirements file</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> freeze <span class="op">&gt;</span> requirements.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>This creates a text file listing all installed packages and their versions.</p>
</section>
<section id="installing-from-requirements" class="level3" data-number="L.5.3">
<h3 data-number="L.5.3" class="anchored" data-anchor-id="installing-from-requirements"><span class="header-section-number">L.5.3</span> Installing from Requirements</h3>
<p>To recreate an environment elsewhere:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create and activate a new environment</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv .venv</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> .venv/bin/activate  <span class="co"># or Windows equivalent</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Install dependencies</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-r</span> requirements.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="best-practices-with-venv" class="level2" data-number="L.6">
<h2 data-number="L.6" class="anchored" data-anchor-id="best-practices-with-venv"><span class="header-section-number">L.6</span> Best Practices with venv</h2>
<section id="directory-naming-conventions" class="level3" data-number="L.6.1">
<h3 data-number="L.6.1" class="anchored" data-anchor-id="directory-naming-conventions"><span class="header-section-number">L.6.1</span> Directory Naming Conventions</h3>
<p>Common virtual environment directory names include:</p>
<ul>
<li><code>.venv</code>: Hidden directory (less visible clutter)</li>
<li><code>venv</code>: Explicit directory name</li>
<li><code>env</code>: Shorter alternative</li>
</ul>
<p>The <code>.venv</code> name is increasingly popular as it: - Keeps it hidden in file browsers - Makes it easy to add to <code>.gitignore</code> - Is recognized by many IDEs and tools</p>
</section>
<section id="version-control-integration" class="level3" data-number="L.6.2">
<h3 data-number="L.6.2" class="anchored" data-anchor-id="version-control-integration"><span class="header-section-number">L.6.2</span> Version Control Integration</h3>
<p>Never commit virtual environment directories to version control. Add them to <code>.gitignore</code>:</p>
<pre><code># .gitignore
.venv/
venv/
env/</code></pre>
</section>
<section id="environment-management-across-projects" class="level3" data-number="L.6.3">
<h3 data-number="L.6.3" class="anchored" data-anchor-id="environment-management-across-projects"><span class="header-section-number">L.6.3</span> Environment Management Across Projects</h3>
<p>Create a new virtual environment for each project:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Project A</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> project_a</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv .venv</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Project B</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ../project_b</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv .venv</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="ide-integration" class="level3" data-number="L.6.4">
<h3 data-number="L.6.4" class="anchored" data-anchor-id="ide-integration"><span class="header-section-number">L.6.4</span> IDE Integration</h3>
<p>Most Python IDEs integrate well with venv environments:</p>
<section id="vs-code" class="level4" data-number="L.6.4.1">
<h4 data-number="L.6.4.1" class="anchored" data-anchor-id="vs-code"><span class="header-section-number">L.6.4.1</span> VS Code</h4>
<ol type="1">
<li>Open your project folder</li>
<li>Press Ctrl+Shift+P</li>
<li>Select “Python: Select Interpreter”</li>
<li>Choose the environment from the list</li>
</ol>
</section>
<section id="pycharm" class="level4" data-number="L.6.4.2">
<h4 data-number="L.6.4.2" class="anchored" data-anchor-id="pycharm"><span class="header-section-number">L.6.4.2</span> PyCharm</h4>
<ol type="1">
<li>Go to Settings → Project → Python Interpreter</li>
<li>Click the gear icon → Add</li>
<li>Select “Existing Environment” and navigate to the environment’s Python</li>
</ol>
</section>
</section>
</section>
<section id="comparing-venv-with-other-tools" class="level2" data-number="L.7">
<h2 data-number="L.7" class="anchored" data-anchor-id="comparing-venv-with-other-tools"><span class="header-section-number">L.7</span> Comparing venv with Other Tools</h2>
<section id="venv-vs.-virtualenv" class="level3" data-number="L.7.1">
<h3 data-number="L.7.1" class="anchored" data-anchor-id="venv-vs.-virtualenv"><span class="header-section-number">L.7.1</span> venv vs.&nbsp;virtualenv</h3>
<p><code>virtualenv</code> is a third-party package that inspired the creation of <code>venv</code>.</p>
<ul>
<li><strong>venv</strong>: Built into Python, no installation needed, slightly fewer features</li>
<li><strong>virtualenv</strong>: Third-party package, more features, better backwards compatibility</li>
</ul>
<p>For most modern Python projects, <code>venv</code> is sufficient, but <code>virtualenv</code> offers some advanced options and supports older Python versions.</p>
</section>
<section id="venv-vs.-conda" class="level3" data-number="L.7.2">
<h3 data-number="L.7.2" class="anchored" data-anchor-id="venv-vs.-conda"><span class="header-section-number">L.7.2</span> venv vs.&nbsp;conda</h3>
<p>While both create isolated environments, they serve different purposes:</p>
<ul>
<li><strong>venv</strong>: Python-specific, lightweight, manages only Python packages</li>
<li><strong>conda</strong>: Cross-language package manager, handles non-Python dependencies, preferred for scientific computing</li>
</ul>
</section>
<section id="venv-vs.-poetrypdm" class="level3" data-number="L.7.3">
<h3 data-number="L.7.3" class="anchored" data-anchor-id="venv-vs.-poetrypdm"><span class="header-section-number">L.7.3</span> venv vs.&nbsp;Poetry/PDM</h3>
<p>These are newer tools that combine dependency management with virtual environments:</p>
<ul>
<li><strong>venv+pip</strong>: Separate tools for environments and package management</li>
<li><strong>Poetry/PDM</strong>: All-in-one solutions with lock files, dependency resolution, packaging</li>
</ul>
</section>
</section>
<section id="troubleshooting-common-issues" class="level2" data-number="L.8">
<h2 data-number="L.8" class="anchored" data-anchor-id="troubleshooting-common-issues"><span class="header-section-number">L.8</span> Troubleshooting Common Issues</h2>
<section id="activation-script-not-found" class="level3" data-number="L.8.1">
<h3 data-number="L.8.1" class="anchored" data-anchor-id="activation-script-not-found"><span class="header-section-number">L.8.1</span> Activation Script Not Found</h3>
<p>If you can’t find the activation script:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List environment directory contents</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-la</span> .venv/bin  <span class="co"># macOS/Linux</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dir</span> .venv<span class="dt">\S</span>cripts  <span class="co"># Windows</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Make sure the environment was created successfully and you’re using the correct path.</p>
</section>
<section id="packages-not-found-after-installation" class="level3" data-number="L.8.2">
<h3 data-number="L.8.2" class="anchored" data-anchor-id="packages-not-found-after-installation"><span class="header-section-number">L.8.2</span> Packages Not Found After Installation</h3>
<p>If packages are installed but not importable:</p>
<ol type="1">
<li>Verify the environment is activated (check prompt prefix)</li>
<li>Check if you have multiple Python installations</li>
<li>Reinstall the package in the active environment</li>
</ol>
</section>
<section id="permission-issues" class="level3" data-number="L.8.3">
<h3 data-number="L.8.3" class="anchored" data-anchor-id="permission-issues"><span class="header-section-number">L.8.3</span> Permission Issues</h3>
<p>If you encounter permission errors:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On macOS/Linux</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv <span class="at">--prompt</span> myproject .venv</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># On Windows, try running as administrator or using user directory</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="script-examples-for-venv-workflows" class="level2" data-number="L.9">
<h2 data-number="L.9" class="anchored" data-anchor-id="script-examples-for-venv-workflows"><span class="header-section-number">L.9</span> Script Examples for venv Workflows</h2>
<section id="project-setup-script" class="level3" data-number="L.9.1">
<h3 data-number="L.9.1" class="anchored" data-anchor-id="project-setup-script"><span class="header-section-number">L.9.1</span> Project Setup Script</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># setup_project.sh</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create project directory</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> my_project</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> my_project</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create basic structure</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> src/my_package tests docs</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create virtual environment</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv .venv</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Activate environment (adjust for your shell)</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> .venv/bin/activate</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Upgrade pip</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">--upgrade</span> pip</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Install initial dev packages</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install pytest black</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create initial requirements</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> freeze <span class="op">&gt;</span> requirements.txt</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Project setup complete! Activate with: source .venv/bin/activate"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="environment-recreation-script" class="level3" data-number="L.9.2">
<h3 data-number="L.9.2" class="anchored" data-anchor-id="environment-recreation-script"><span class="header-section-number">L.9.2</span> Environment Recreation Script</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># recreate_env.sh</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove old environment if it exists</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> .venv</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create fresh environment</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv .venv</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Activate</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> .venv/bin/activate</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Upgrade pip</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">--upgrade</span> pip</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Install dependencies</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-r</span> requirements.txt</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Environment recreated successfully!"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="conclusion" class="level2" data-number="L.10">
<h2 data-number="L.10" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">L.10</span> Conclusion</h2>
<p>The <code>venv</code> module provides a simple, reliable way to create isolated Python environments directly from the standard library. While newer tools offer more features and automation, <code>venv</code> remains a fundamental building block of Python development workflows, offering an excellent balance of simplicity and utility.</p>
<p>For most Python projects, the combination of <code>venv</code> and <code>pip</code> provides a solid foundation for environment management. As projects grow in complexity, you can build upon this foundation with additional tools while maintaining the same core principles of isolation and reproducibility.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../appendices/conda.html" class="pagination-link" aria-label="Using Conda for Environment Management">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">K</span>&nbsp; <span class="chapter-title">Using Conda for Environment Management</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../appendices/uv.html" class="pagination-link" aria-label="UV - High-Performance Python Package Management">
        <span class="nav-page-text"><span class="chapter-number">M</span>&nbsp; <span class="chapter-title">UV - High-Performance Python Package Management</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/michaelborck-books/ship-it-python-in-production/edit/main/appendices/venv.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/michaelborck-books/ship-it-python-in-production/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>